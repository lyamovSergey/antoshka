window.onload=function(){var s=document.getElementsByClassName("inp"),a=document.getElementById("phone"),d=document.getElementById("mail"),e=document.getElementById("offer__form"),n=document.getElementById("loader"),t=document.body,r=document.getElementById("modal"),i=document.getElementById("modal__text"),m=document.getElementById("modal__button");function u(e){e?(n.style="display: block",t.classList.add("stop-scrolling")):(n.style="display: none",t.classList.remove("stop-scrolling"))}e.onsubmit=function(){var e,n,t=/^[\w]{1}[\w-\.]*@[\w-]+\.[a-z]{2,4}$/i.test(d.value)?!(mailError.innerHTML=""):!(mailError.innerHTML="Введите правильный адрес");if((/^[\d]{10}$/.test(a.value)?!(phoneError.innerHTML=""):!(phoneError.innerHTML="Введите правильный номер"))&&t){u(!0);setTimeout(function(){!function(e){if(e){i.innerHTML="Регистрация прошла успешно!",r.style="display: flex";for(var n=0;n<s.length;n++)s[n].value=""}else i.innerHTML="Ошибка регистрации!",r.style="display: flex";m.onclick=function(){u(!(r.style="display: none"))}}(!1)},3e3);for(var o="",l=0;l<s.length;l++)o+=s[l].name+"="+encodeURIComponent(s[l].value)+"&";e=o,(n=new XMLHttpRequest).open("POST","http://sw.ants.co.ua/demo/",!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onload=function(){200!=n.status?alert(n.status+": "+n.statusText):console.log(n.responseText)},n.send(e)}return!1}};